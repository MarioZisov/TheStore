
@{
    ViewBag.Title = "Категории";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2>Категории</h2>
<hr />
<div>
    @Html.ActionLink(GlobalTexts.Create, "create", "category", new { area = "admin" }, new { @class = "btn btn-success btn-md" })
</div>
<div style="margin: 20px 0px">
    <table id="data-table" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>@AdminCategoryListTexts.Column_Name</th>
                <th>@AdminCategoryListTexts.Column_CreatedDate</th>
                <th>@AdminCategoryListTexts.Column_UpdateDate</th>
                <th>@AdminCategoryListTexts.Column_PrimaryCategory</th>
                <th>@AdminCategoryListTexts.Column_Visible</th>
                <th>@AdminCategoryListTexts.Column_Order</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

@section scripts
{
    <script src="~/Scripts/datatables.js"></script>
    <script>
        $(document).ready(function () {
            $('#data-table').DataTable(
                {
                    ajax: {
                        url: "/api/category",
                        dataSrc: ''
                    },
                    rowId: 'Id',
                    columns: [
                        {
                            data: 'Name',
                            render: function (colData, dataType, row) {
                                return '<a href="/admin/category/' + row.Id + '" target="_blank">' + colData + '</a>'
                            }
                        },
                        { data: 'CreatedOn' },
                        { data: 'UpdatedOn' },
                        { data: 'IsPrimary' },
                        { data: 'IsVisible' },
                        { data: 'DisplayOrder' }
                    ]
                })
        });
    </script>
}